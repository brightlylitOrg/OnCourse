<!-- views/redacto.handlebars --><script type="application/javascript">$(document).ready(function(){	loadJSONData()	window.onbeforeunload = unloadMessage;	$('.button-collapse').sideNav({      menuWidth: 300, // Default is 240      edge: 'left', // Choose the horizontal origin      closeOnClick: true // Closes side-nav on <a> clicks, useful for Angular/Meteor    });	socket.on('connect', function(){            console.log("connected")	  });      $('.uiTextareaNoResize').attr("placeholder", "sweffwfedsa")	//scroll animation	$(function() {  		$('a[href*="#"]:not([href="#"])').click(function() {    		if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {      			var target = $(this.hash);      			target = target.length ? target : $('[name=' + this.hash.slice(1) +']');      			if (target.length) {        			$('html, body').animate({          			scrollTop: target.offset().top        		}, 1000);        	return false;      			}    		}  		});	});//console.log("stylesheet is: "+{{style}})});</script><style>/* IMPORTANT. MATERIALIZE OVERRIDES NATIVE INPUT BOX, WHICH I HAVE COMMENTED OUT. HIDING THIS CLASS IS A WORKAROUND FOR HIDING THE MATERIALIZE INPUT BOX */.secondary-content{display:none;}</style><!-- SIDE NAV --><span id="mobileOrDesktop" style="display:none;">{{style}}</span><nav id="topOfPage">	<ul class="fixedUL">		<li>			<div id="rubricDiv" style="display:none;overflow:visible">				<span id="rubricSpan">Play the audio. Write what you hear in the "Write here" box.</span>				<a href="#new_redacto_movie" class="modal-trigger" style="margin-left:5px;background-color:#bb3823">Show me</a>				<a id="hideBanner" class="btn-flat"><span style="font-size:20px;">X</span></a>			</div>		</li>	</ul>	<ul id="slide-out" class="side-nav">		<!--<div class="userView" style="text-align:center;padding-top:15px;">-->		<li class="menuList" style="padding-top:0px;">			<div class="userView">      			<!--<img class="background" src="../imgs/redacto_sml_logo.png">-->      			<img class="background" src="imgs/{{groupName}}_sml.png">    		</div>    	</li>      	<li class="menuList"><a href="#" id="showWord" class="disableOnShowAll menuAnchor helpMe" style="padding-top:10px;"><span class="menuSpan">Show word</span></a></li>      	<li class="menuList"><a href="#" class="disableOnShowAll menuAnchor helpMe" id="firstLetter"><span class="menuSpan">Show first letter</span></a></li>      	<li class="menuList"><a href="#" class="disableOnShowAll menuAnchor helpMe" id="showAll"><span class="menuSpan">Show all</span></a></li>      	<li class="menuList"><a class="menuAnchor" href="#" onClick="location.reload();" ><span class="menuSpan">Start again</span></a></li>		<li class="menuList hideOnMobile"><a class="disableOnShowAll menuAnchor modal-trigger" href="#your_words_modal"><span class="menuSpan">Add to wordlist</span></a></li>      	<li class="menuList hideOnMobile"><a class="menuAnchor" href="#thewordlist" id="openTheWordList" ><span class="menuSpan">Open wordlist</span></a></li>      	<li class="menuList"><a class="menuAnchor" href="/logout" ><span class="menuSpan" style="color:black">Logout</span></a></li>      	<li class="menuList"><a href="https://docs.google.com/a/brightlylit.co.uk/forms/d/e/1FAIpQLSfaFgZ0NemMFeot41brfsukiEjQy3E_s3khLvtqU8RLKxnGAg/viewform?c=0&w=1"><span class="white-text name" style="text-decoration:underline">Tell us what you think</span></a></li>    </ul>		<a href="#" data-activates="slide-out" class="button-collapse show-on-large"><img style="display:none" id="openMenu" src="imgs/ic_menu_white_48dp_1x.png" /></a></nav><div class="container" id="roomNameHolder" style="display:none">	<div class="row">		<div class="col s12" style="overflow:visible;">			<a href="#" class="waves-effect btn blue" id="copyButton" style="padding-left:10px;padding-right:10px;text-transform:lowercase;">Copy</a>			<input type="text" id="yourRoomName" class="blue" style="width:125px;margin-top:15px;" readonly />			<script type="application/javascript" src="../../js/copyToClipboard.js"></script>			<a class="showHelp btn-flat modal-trigger" href="#helpInviteAFriend"><span style="color:#000;font-size:18px;">?</span></a>		</div>		<!--<div class="fb-like" data-share="true" data-width="450" data-show-faces="true">		</div>-->	</div>	<div id="helpInviteAFriend" class="modal">		<div class="modal-content" style="text-align:center">			</br>			<img src="imgs/instructions.png">		 	<div class="modal-footer">      			<a href="#" class="modal-action modal-close waves-effect waves-green btn-flat ">Close</a>    		</div>		</div>	</div>	<div class="row" style="margin-top:20px;margin-bottom:10px;">		<div class="col s12" id="titleSpanHolder">			<span id="titleSpan" style="display:none"></span>		</div>	</div></div><!-- VIDEO --><div id="new_redacto_movie" class="modal" style="height:350px;width:600px;padding:0px;overflow:visible;">	<a class="btn-floating btn-large red modal-action modal-close" id="closer">X</a>	<div class="modal-content">		<video width="550" height="320" controls />		<source src="new_redacto_movie.mp4" type="video/mp4">	</div></div><!-- STATUS MESSAGE --><div id="status-message" class="modal" style="z-index:9999;width:30%;text-align:center;">    <div class="modal-content">    <span><h5 style="color:black">Loading...</h5></span>      <div class="progress blue">      <div class="indeterminate white"></div>	</div>    </div></div> <!-- POST LISTENING EXERCISE BUTTON --><div id="postListenButton" class="modal">   <div class="modal-content" style="text-align:center;">   <span id="theWinner" style="font-size:32px;color:black"></span><span style="font-size:32px;color:black"> wins!</span>   </div>   <div class="modal-footer">   	  <a id="postListenOpener" href="#follow-up-ex" class="modal-action modal-close waves-effect btn-flat">Do the exercise</a>      <a id="declinePostListen" href="#" class="modal-action modal-close waves-effect btn-flat">Start again</a>   </div> </div> <!-- PRE LISTENING EXERCISE --><div id="pre_listening_ex" class="row" style="background-color:#D1D0CF"><div class="container" style="width:100%;margin-left:20px;margin-right:20px;background-color:#D1D0CF">	</br>	<a class="btn-floating btn-large red restore" href="#topOfPage">Close</a>	<div class="row">		<div class="col s2">&nbsp;</div>		<div class="col s8">			<!--<span id="myAnchor" class="preRubric" style="color:black;"></span>-->		</div>	</div><!-- end row-->  			<audio id="musicHTM2" style="padding-top:10px;">  				<source id="mp3Source2" type="audio/mpeg">            	<source id="oggSource2" type="audio/ogg">    		</audio>        	<div id="audioplayer2" style="display:none;padding-top:5px;">    			<a id="pButton2" class="play2">    			<img id="btnImg2" src="imgs/ic_play_circle_filled_black_48px.svg"></a>			</div>	</div>		<iframe id="ex_iframe" width="100%;" height="500px;" frameborder="0"></iframe></div><!-- POST LISTENING EXERCISE --><div id="follow-up-ex" class="row"><div class="container"><a class="btn-floating btn-large red restore" style="margin-top:10px;text-transform:lowercase" href="#topOfPage">Close</a><div class="row" style="text-align:center"><!--<span id="myAnchor2" class="preRubric">Fill the gaps</span>-->    <iframe id="ex_iframe_follow_up" frameborder="0"></iframe>  </div>  </div></div><!-- ERROR MODAL --><div id="error-modal" class="modal" style="z-index:9999;width:30%;text-align:center;">    <div class="modal-content">    	<span><h6 style="color:black">That room doesn't exist</h6></span>    	<a id="reload" href="#" class="myBtn btn modal-close">Reload</a>	</div></div><!--START YOUR WORDS--> <div id="your_words_modal" class="modal">   <div id="modcont" class="modal-content">    <ul class="collection with-header" id="myWords">    </ul>   </div>   <div class="modal-footer">      <a href="javascript:$('.button-collapse').sideNav('hide');" class="modal-action modal-close waves-effect blue btn-flat" style="margin-left:10px;">Close</a>      <a href="javascript:toolFuncs('addToWordlist');" class="modal-close modal-action waves-effect waves-blue btn-flat" id="btnOK">Add to my wordlist</a>   </div> </div><!-- GREETING --><div id="greet" class="col s12" style="text-align:center;">		   <div id="subGreet" class="col s12"><img id="orgName" src="imgs/{{groupName}}.png"></div>           <h4><span class="greeting">Hi&nbsp;</span><span class="greeting" id="loggedInUser">{{user}}</span><span class="greeting">!</span></h4>           <script type="application/javascript" src="../../js/loadJSON.js"></script>           <h4><span class="greeting">What do you want to do?</span></h4></div><!-- LANDSCAPE ONLY MESSAGE --><div id="landscape_only" style="display:none;">	<div class="row">		<div class="col s12" style="text-align:center">			<span>Redacto needs to be viewed in landscape mode. Please rotate your device.</span>		</div>	</div></div><!-- MOBILE SITE: START OR JOIN GAME --><div id="new_or_existing"  class="col s12">	<a id="startGame" class="myBtn btn" >Start game</a>   	<a id="joinGame" class="tooltipped myBtn btn" data-position="top" data-delay="50" data-tooltip="Click to paste the unique ID your friend sent you">Join game</a>   	<a id="showJoinRoomHelp" class="showHelp btn-flat modal-trigger" href="#joinRoomHelp"><span style="color:#000;font-size:18px;">?</span></a>   	<a id="chooseSport" class="myBtn btn highLevelChooser" style="display:none" onClick="loadHighLevelChooser('Sport')">Sport</a>   	<a id="chooseNews" class="myBtn btn highLevelChooser" style="display:none" onClick="loadHighLevelChooser('News')">News</a>   	<a id="choosePeople" class="myBtn btn highLevelChooser" style="display:none" onClick="loadHighLevelChooser('People')">People</a>   	<select class="textSelect" style="display:none;">        <option value="Choose a subject">Choose a subject</option>    </select>   	<div id="choose_show_exercises" class="col s6" style="text-align:center;display:none;">    	<a class="no_load btn myBtn firstPlay" style="display:none" onClick="prepareContent('creator', false);">Play</a>    	<div id="inviteAfriendWindow" style="display:none" class="container">    		<div class="row">    			<div class="col s3">&nbsp</div>    			<div class="col s6" id="inviteAfriend" style="border:solid 2px white">    			<h5>Invite a friend</h5>   				<span>Click on 'copy' and paste into an email to your friend. They paste into the 'Join Game' window to join you online.</span>   				</br>   				</br>    		<div class="row" style="margin-bottom:0px;">    			<img src="imgs/twitter.png"/>    			<img src="imgs/facebook.png"/>    			<img src="imgs/google.png"/>    		</div>    		<div class="row">    			<span>Invite via Twitter, Facebook, Google+ coming soon..</span>    		</div>    	</div>    	</div>    </div>   </div>   <div id="joiner_show_room" class="col s12" style="display:none">  	<span>Your room name:</span></br></br>  	<input type="text" class="tooltipped" data-position="top" data-delay="50" data-tooltip="Paste the ID here that you received from your friend" id="joiner_show_room_name"  />  	<a id="existing_room_exerciseLoader"  href="#" class="blue no_load waves-effect waves-light btn" onClick="prepareContent('joiner', true);">Pre listening</a>    <a class="existing_room_no_load btn myBtn firstPlay" onClick="prepareContent('joiner', false);">Play</a>   </div>    <div class="row">		<a id="goBack" href="#" onClick="location.reload()" style="display:none" >< Back</a>	</div></div><div class="modal" id="joinRoomHelp" style="display:none">	<div class="modal-content">		Has your friend in invited you to join a game? Click "JOIN GAME" and paste the number they sent you to join them online.</br></br>		Or just click "START GAME" to play alone.	</div>	<div class="modal-footer">		<a href="#" class="myBtn btn modal-action modal-close" style="margin-left:10px;">Close</a>   </div>	</div></div><!-- ACTIVITY CHOOSER --><div id="textHolderWrapper"><!-- TEXTHOLDER -->	<div class="container">		<div class="row">			<div class="col s12" id="textHolder">				<div id="room_exists" class="col s12" style="display:none">That room already exists            		<button id="go_to_existing_room">Go</button>    			</div>  			</div>		</div>	</div><!-- AUDIOPLAYERS --></div><!-- GENERAL SEARCH AND SCORES --><div id="searchWrapper" style="display:none;">	<div class="container" id="onMobileOnly">		<div id="audiorow" class="row">			<div class="col s12">				<div class="col s4">					<img src="imgs/turtle.png" id="mobilespacer" style="display:none;"/>					<img src="imgs/turtle.png" id="speedup"/>					<input style="border:none;" id="slide" type="range" min="0.5" max="1" step="0.1" value="1" onchange="myupdateSlider(this.value)" class="blue tooltipped" data-position="bottom" data-delay="50" data-tooltip="slide to change playback speed"/>					<img src="imgs/hare.png" id="slowdown"/>				</div>				<div class="col s5" id="mobileLeftAlign">					<audio id="musicHTM" >  						<source id="mp3Source" type="audio/mpeg">            			<source id="oggSource" type="audio/ogg">    				</audio>    			</div>				<div class="col s3" style="height:60px;line-height:80px;">					<a id="reloadMe" href="#" style="padding-top:20px; color:#fff; text-decoration:underline;">back to exercise list</a>				</div>			</div>		</div><!-- end row -->		<div class="row" id="rowOnMobileOnly">			<div class="col s12" id="innerSearchWrapper">				<!-- mic image -->				<div class="col s1" style="text-align:left;">					<a id="start_button" onclick="startButton(event)" class="tooltipped" data-position="left" data-delay="50" data-tooltip="Say anything you hear">            			<img id="start_img" src="imgs/ic_mic_off_white_48px.svg" alt="Start">        			</a>				</div>				<!-- score_1 col -->				<div class="col s2" style="text-align:right">					<span id="me"><sup class="mySup">{{user}}</sup></span>					<span id="score_1" class="mobilescore" type="text">0</span>				</div>				<!-- general search input -->				<div class="col s6">					<input placeholder="Write here" type="text" id="letterInput" class="findWord blue">				</div>				<!-- go button -->				<div class="col s1" id>        			<a class="btn-floating btn-large red" id="tryWord" onClick="toolFuncs('tryword')" >FIND</a>        		</div>        		<!-- score_2 col -->				<div class="col s2" style="text-align:right;">					<span id="you" style="display:none"><sup class="mySup"></sup></span>					<span id="score_2" class="mobilescore" type="text" style="display:none">0</span>					<img id="speaker_pic" />				</div>			</div>		</div>	</div></div><!-- TARGETTED SEARCH --> <div id="target_search" class="modal">	<div class="modal-content">      <input id="dialogInput" type="text" class="findWord" />      <a class="modal-action modal-close btn-floating btn-large red" id="gogo" onClick="toolFuncs('tryword')" >Go</a>	</div></div><!--WORDLIST IFRAME OPENS HERE--><div id="the_wordlist" style="display:none">	<div class="row" style="padding-top:15px;">		<div class="col s10" style="text-align:center;">			<h4 id="thewordlist">Wordlist</h4>			<h6>Edit and save definitions and translations. To add vocabulary: start a game, find words or phrases, and add them via the 'Add' button</h6>		</div>		<div class="col s2" style="text-align:right">			</br>			<a class="btn-floating btn-large red restore" style="text-transform:lowercase">close</a>		</div>	</div>	<div class="row" style="text-align:center">    <div class="modal-content" style="height:100%;">       <iframe id="wl_iframe" src="/wordlist.html" width="960px" height="800px" frameborder="0" allowfullscreen></iframe>    </div>    </div>  </div><!--START GET READY MODAL DLOG-->  <div id="getReady" class="modal" style="z-index:9999;width:40%;text-align:center;">  <div class="modal-content">      <p>Your opponent has joined the room. Click 'go' to start!</p>      <a href="#" id="messageConfirmed" class="myBtn btn modal-close" >Go</a>    </div>  </div><!--START LET'S GO MODAL DLOG-->  <div id="letsGo" class="modal" style="z-index:9999;width:40%;text-align:center;">  <div class="modal-content">      <p>They've started!</p>      <a href="#" class="myBtn btn modal-close">Go</a>    </div>  </div><!--START GAME OVER MODAL DLOG-->  <div id="gameover" class="modal" style="width:50%;text-align:center;">    <div class="modal-content">      <p>Game over</p>      <text id="winner"></text>      <a href="#" class="blue waves-effect waves-light btn modal-close" onClick="window.location.reload()" >Play again</a>      <a href="#" class="orange waves-effect waves-light btn modal-close">Close</a>    </div>  </div>  <!-- GOOGLE SPEECH SECTION --> <div id="pa" class="col s4" style="display:none" >   <div id="div_language">     <select id="select_language" onchange="updateCountry()"></select>      &nbsp;&nbsp;     <select id="select_dialect"></select>   </div> </div> <div id="results" class="col s1" ><span class="final" id="final_span"></span> <span class="interim" id="interim_span"></span></div> <div id="info" style="display:none"> <div id="copy_info" class="info">      Press Control-C to copy text.<br>(Command-C on Mac.)    </div>    <div id="email_info" class="info">      Text sent to default email application.<br>      (See chrome://settings/handlers to change.)    </div> <button id="copy_button" class="button"></button> <button id="email_button" class="button"></button>  <p id="info_start">Click on the microphone icon and begin speaking.</p>  <p id="info_speak_now">Speak now.</p>  <p id="info_no_speech">No speech was detected. You may need to adjust your    <a href="//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892">      microphone settings</a>.</p>  <p id="info_no_microphone" style="display:none">    No microphone was found. Ensure that a microphone is installed and that    <a href="//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892">    microphone settings</a> are configured correctly.</p>  <p id="info_allow">Click the "Allow" button above to enable your microphone.</p>  <p id="info_denied">Permission to use microphone was denied.</p>  <p id="info_blocked">Permission to use microphone is blocked. To change,    go to chrome://settings/contentExceptions#media-stream</p>  <p id="info_upgrade">Web Speech API is not supported by this browser.     Upgrade to <a href="//www.google.com/chrome">Chrome</a>     version 25 or later.</p></div><script src="js/local.js"></script><script type="application/javascript" src="js/loadJSON.js"></script> <script>     $(window).load(function() {      });      var langs =[['Afrikaans',       ['af-ZA']], ['Bahasa Indonesia',['id-ID']], ['Bahasa Melayu',   ['ms-MY']], ['Català',          ['ca-ES']], ['Čeština',         ['cs-CZ']], ['Deutsch',         ['de-DE']], ['English',         ['en-AU', 'Australia'],                     ['en-CA', 'Canada'],                     ['en-IN', 'India'],                     ['en-NZ', 'New Zealand'],                     ['en-ZA', 'South Africa'],                     ['en-GB', 'United Kingdom'],                     ['en-US', 'United States']], ['Español',         ['es-AR', 'Argentina'],                     ['es-BO', 'Bolivia'],                     ['es-CL', 'Chile'],                     ['es-CO', 'Colombia'],                     ['es-CR', 'Costa Rica'],                     ['es-EC', 'Ecuador'],                     ['es-SV', 'El Salvador'],                     ['es-ES', 'España'],                     ['es-US', 'Estados Unidos'],                     ['es-GT', 'Guatemala'],                     ['es-HN', 'Honduras'],                     ['es-MX', 'México'],                     ['es-NI', 'Nicaragua'],                     ['es-PA', 'Panamá'],                     ['es-PY', 'Paraguay'],                     ['es-PE', 'Perú'],                     ['es-PR', 'Puerto Rico'],                     ['es-DO', 'República Dominicana'],                     ['es-UY', 'Uruguay'],                     ['es-VE', 'Venezuela']], ['Euskara',         ['eu-ES']], ['Français',        ['fr-FR']], ['Galego',          ['gl-ES']], ['Hrvatski',        ['hr_HR']], ['IsiZulu',         ['zu-ZA']], ['Íslenska',        ['is-IS']], ['Italiano',        ['it-IT', 'Italia'],                     ['it-CH', 'Svizzera']], ['Magyar',          ['hu-HU']], ['Nederlands',      ['nl-NL']], ['Norsk bokmål',    ['nb-NO']], ['Polski',          ['pl-PL']], ['Português',       ['pt-BR', 'Brasil'],                     ['pt-PT', 'Portugal']], ['Română',          ['ro-RO']], ['Slovenčina',      ['sk-SK']], ['Suomi',           ['fi-FI']], ['Svenska',         ['sv-SE']], ['Türkçe',          ['tr-TR']], ['български',       ['bg-BG']], ['Pусский',         ['ru-RU']], ['Српски',          ['sr-RS']], ['한국어',            ['ko-KR']], ['中文',             ['cmn-Hans-CN', '普通话 (中国大陆)'],                     ['cmn-Hans-HK', '普通话 (香港)'],                     ['cmn-Hant-TW', '中文 (台灣)'],                     ['yue-Hant-HK', '粵語 (香港)']], ['日本語',           ['ja-JP']], ['Lingua latīna',   ['la']]];for (var i = 0; i < langs.length; i++) {  select_language.options[i] = new Option(langs[i][0], i);}select_language.selectedIndex = 6;updateCountry();select_dialect.selectedIndex = 6;showInfo('info_start');function updateCountry() {  for (var i = select_dialect.options.length - 1; i >= 0; i--) {    select_dialect.remove(i);  }  var list = langs[select_language.selectedIndex];  for (var i = 1; i < list.length; i++) {    select_dialect.options.add(new Option(list[i][1], list[i][0]));  }  select_dialect.style.visibility = list[1].length == 1 ? 'hidden' : 'visible';}var create_email = false;var final_transcript = '';var recognizing = false;var ignore_onend;var start_timestamp;if (!('webkitSpeechRecognition' in window)) {  upgrade();} else {  start_button.style.display = 'inline';  var recognition = new webkitSpeechRecognition();  recognition.continuous = true;  recognition.interimResults = true;  recognition.onstart = function() {    recognizing = true;    showInfo('info_speak_now');    start_img.src = 'imgs/ic_mic_white_48px.svg';    console.log("is rec true? "+recognition)  };  recognition.onerror = function(event) {    if (event.error == 'no-speech') {      start_img.src = 'imgs/ic_mic_off_white_48px.svg';      showInfo('info_no_speech');      ignore_onend = true;    }    if (event.error == 'audio-capture') {      start_img.src = 'imgs/ic_mic_off_white_48px.svg';      showInfo('info_no_microphone');      ignore_onend = true;    }    if (event.error == 'not-allowed') {      if (event.timeStamp - start_timestamp < 100) {        showInfo('info_blocked');      } else {        showInfo('info_denied');      }      ignore_onend = true;    }  };  recognition.onend = function() {    recognizing = false;    if (ignore_onend) {      return;    }    start_img.src = 'imgs/ic_mic_off_white_48px.svg';    console.log("rec ended")    if (!final_transcript) {      showInfo('info_start');      return;    }    showInfo('');    if (window.getSelection) {      window.getSelection().removeAllRanges();      var range = document.createRange();      range.selectNode(document.getElementById('letterInput'));      window.getSelection().addRange(range);    }    if (create_email) {      create_email = false;      createEmail();    }  };  recognition.onresult = function(event) {    var interim_transcript = '';    for (var i = event.resultIndex; i < event.results.length; ++i) {      if (event.results[i].isFinal) {        final_transcript += event.results[i][0].transcript;      } else {        //interim_transcript += event.results[i][0].transcript;        interim_transcript = "Processing..."      }    }    final_transcript = capitalize(final_transcript);   // final_span.innerHTML = linebreak(final_transcript);   console.log("final transcript: "+linebreak(final_transcript))    $('#letterInput').val(linebreak(final_transcript));   // $('#letterInput').val(linebreak(interim_transcript));    if (final_transcript || interim_transcript) {      showButtons('inline-block');    }  };}function upgrade() {  start_button.style.visibility = 'hidden';  showInfo('info_upgrade');}var two_line = /\n\n/g;var one_line = /\n/g;function linebreak(s) {  return s.replace(two_line, '<p></p>').replace(one_line, '<br>');}var first_char = /\S/;function capitalize(s) {  return s.replace(first_char, function(m) { return m.toUpperCase(); });}function createEmail() {}function copyButton() {}function emailButton() {}function startButton(event) {//console.log("recognizing? : " + recognizing)  if (recognizing) {    console.log("re enable playbutton here")    var player2 = document.getElementById('audio');    recognition.stop();    //player2.play()    //player.muted = false;    return;  }  final_transcript = '';  recognition.start();  console.log("recognizing? : " + recognizing)  ignore_onend = false;  //final_span.innerHTML = '';  $('#letterInput').val('');  interim_span.innerHTML = '';  start_img.src = 'imgs/ic_mic_white_48px.svg';  showInfo('info_allow');  showButtons('none');  start_timestamp = event.timeStamp;}function showInfo(s) {  if (s) {    for (var child = info.firstChild; child; child = child.nextSibling) {      if (child.style) {        child.style.display = child.id == s ? 'inline' : 'none';      }    }    info.style.visibility = 'visible';  } else {    info.style.visibility = 'hidden';  }}var current_style;function showButtons(style) {//var _player = document.getElementById('audio2');//_player.pause()//_player.muted = true;  if (style == current_style) {    return;  }  current_style = style;  /*copy_button.style.display = style;  email_button.style.display = style;  copy_info.style.display = 'none';  email_info.style.display = 'none';*/}function checkMic(){  // console.log("playing")$('#letterInput').focus();   recognition.stop(); }    </script>